{% extends "tracker/base.html" %}

{% block content %}
<div class="container mt-4" style="max-width: 600px;">
    <h3 class="mb-4">âž• Add New Transaction</h3>
    <p class="text-muted">Enter the details below to record a new income or expense.</p>
    
    <hr>
    
    <form method="POST" action="{% url 'add_transaction' %}" class="card p-4 shadow-sm">
        {% csrf_token %}

        <div class="row mb-3 g-3">
            <div class="col-md-6">
                <label for="id_amount" class="form-label">Amount ({{ CUSTOM_CURRENCY_SYMBOL }})</label>
                <input type="number" step="0.01" class="form-control" name="amount" id="id_amount" placeholder="e.g., 50,000" required>
            </div>
            <div class="col-md-6">
                <label for="id_type" class="form-label">Type</label>
                <select name="type" id="id_type" class="form-select" required>
                    <option value="">Select Type</option>
                    <option value="Expense">Expense</option>
                    <option value="Income">Income</option>
                </select>
            </div>
        </div>

        <div class="row mb-3 g-3">
            <div class="col-md-6">
                <label for="id_category" class="form-label">Category</label>
                <select name="category" id="id_category" class="form-select" required>
                    <option value="">Select Category...</option>

                    {% for value, label in categories %}
                        <option value="{{ value }}">{{ label }}</option>
                    {% endfor %}
                </select>   
            </div>
            <div class="col-md-6">
                <label for="id_date" class="form-label">Date</label>
                <input type="date" class="form-control" name="date" id="id_date" required>
            </div>
        </div>
        
        <div class="mb-4">
            <label for="id_description" class="form-label">Description</label>
            <input type="text" class="form-control" name="description" id="id_description" placeholder="Optional brief description (e.g., Dinner)">
        </div>
        
        <div class="d-flex justify-content-between mt-3">
            <a href="{% url 'transactions' %}" class="btn btn-secondary">
                <i class="fas fa-arrow-left me-1"></i> Go Back
            </a>
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save me-1"></i> Save Transaction
            </button>
        </div>
    </form>
</div>
{% endblock %}